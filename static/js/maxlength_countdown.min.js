(function(c){c.fn.maxlength_countdown=function(d){d=d!==void 0?d:function(c,b){return c+" of max "+b};return this.each(function(){var a=c(this);if(!a.attr("id"))throw"input element lacks ID attribute";var b=a.val().length,e=b/parseFloat(c(this).attr("maxlength")),b=c("<span>",{text:d(b,c(this).attr("maxlength"))}).attr("id","countdown"+a.attr("id")).fadeTo(0,e).addClass("maxlength-countdown").insertAfter(a);e>=1&&b.addClass("maxlength-maxed");a.bind("keyup",function(){var f=c(this),b=f.val().length,
a=c("#countdown"+f.attr("id")),e=b/parseFloat(f.attr("maxlength"));a.text(d(b,f.attr("maxlength"))).fadeTo(100,e);e>=1?a.addClass("maxlength-maxed"):a.removeClass("maxlength-maxed")}).bind("blur",function(){var a=c(this),b=a.val().length/parseFloat(a.attr("maxlength"));b>0&&c("#countdown"+a.attr("id")).fadeTo(500,Math.min(0.2,b))})})}})(jQuery);
